@using SdvCode.Models.User
@using Microsoft.AspNetCore.Identity
@using SdvCode.ViewModels.Post.ViewModels
@using SdvCode.Areas.Administration.Models.Enums
@using SdvCode.Models.Enums;
@using X.PagedList.Mvc.Core
@using X.PagedList.Mvc.Core.Common
@using X.PagedList
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@model PostViewModel

@if (Model.IsAuthor || User.IsInRole(Roles.Administrator.ToString()) || User.IsInRole(Roles.Editor.ToString()))
{
    @await Html.PartialAsync("_BlogPostPartial", Model)
}
else
{
    @if (Model.PostStatus == PostStatus.Approved)
    {
        @await Html.PartialAsync("_BlogPostPartial", Model)
    }
}